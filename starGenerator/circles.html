<!DOCTYPE html>
<html>
<head>
	<title>Circles</title>
	<!-- Load the Paper.js library -->
<script type="text/javascript" src="assets/js/lib/paper-full.js"></script>
<!-- Define inlined PaperScript associate it with myCanvas -->
<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/howler/2.1.3/howler.min.js"></script>
<script type="text/javascript" src="assets/js/circles.js"></script>

<link rel="stylesheet" type="text/css" href="assets/css/circles.css">

<script type="text/paperscript" canvas="myCanvas">
var sound = new Howl({
  src: ['sounds/arpySpace.wav']
});

var sound2 = new Howl({
  src: ['sounds/808pad.wav']
});

var sound3 = new Howl({
  src: ['sounds/windpad.wav']
});

var sound4 = new Howl({
  src: ['sounds/warmhum.wav']
});

var circles = [];
var bigCircles = [];

function onKeyDown(event) {
	if(event.key === "enter"){
	sound.play();
}

	if(event.key === "b"){
	sound2.play();
}

if(event.key === "s"){
	sound3.play();
}

if(event.key === "g"){
	sound4.play();
}
	var maxPoint = new Point(view.size.width, view.size.height);
	var randomPoint = Point.random();
	var point = maxPoint * randomPoint;

	// make a circle 
	var myCircle = new Path.Circle(point, 3);
	myCircle.fillColor = 'purple';
	circles.push(myCircle);

	var bigCircle = new Path.Circle(point, 400);
	bigCircle.fillColor = 'red';
	bigCircles.push(bigCircle);
}


function onFrame(event){
	for(var i = 0; i < circles.length; i++){
	circles[i].fillColor.hue += 1;
	circles[i].scale(.9994);
	}

	for(var i = 0; i < bigCircles.length; i++){
	bigCircles[i].fillColor.hue += 1;
	bigCircles[i].scale(.99);
	}
}

// Get the modal
var modal = document.getElementById("myModal");

// Get the button that opens the modal
var btn = document.getElementById("myBtn");

// Get the <span> element that closes the modal
var span = document.getElementsByClassName("close")[0];

// When the user clicks on the button, open the modal 
btn.onclick = function() {
  modal.style.display = "block";
}

// When the user clicks on <span> (x), close the modal
span.onclick = function() {
  modal.style.display = "none";
}

// When the user clicks anywhere outside of the modal, close it
window.onclick = function(event) {
  if (event.target == modal) {
    modal.style.display = "none";
  }
} 


</script>




</head>
<body>
	<!-- Trigger/Open The Modal -->
	<button id="myBtn">Instructions</button>

	<!-- The Modal -->
	<div id="myModal" class="modal">

  		<!-- Modal content -->
  		<div class="modal-content">
    		<span class="close">&times;</span>
    		<p>WELCOME TO THE STAR GENERATOR!<br></p>
    			<p>Instructions: Press any key on your keyboard to make a star.</p>
    		<p><strong>"s"</strong> <strong>"g"</strong> <strong>ENTER</strong>" and <strong>"b"</strong> are special keys that add sound to your universe.</p>
    		<p>To start from scratch refresh the page</p>
    		<p>TIPS <br>
    		<em>Try presing the keys rapidly for 10 seconds then stop for 15 seconds to see the universe you've created!</em></p>
  		</div>

	</div>
	
	<canvas id="myCanvas" resize></canvas>

</body>
</html>